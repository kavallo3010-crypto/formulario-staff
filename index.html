<script>
document.getElementById("formulario").addEventListener("submit", async function(e) {
  e.preventDefault();

  const dados = {
    nome: document.getElementById("nome").value,
    idade: document.getElementById("idade").value,
    cidade: document.getElementById("cidade").value,
    tempo: document.getElementById("tempo").value,
    experiencia: document.getElementById("experiencia").value,
    personalidade: document.getElementById("personalidade").value,
    equipe: document.getElementById("equipe").value,
    criticas: document.getElementById("criticas").value,
    conflito: document.getElementById("conflito").value,
    discussao: document.getElementById("discussao").value,
    amigo: document.getElementById("amigo").value,
    preconceito: document.getElementById("preconceito").value,
    desrespeito: document.getElementById("desrespeito").value,
    motivo: document.getElementById("motivo").value,
    agregar: document.getElementById("agregar").value,
    imparcial: document.getElementById("imparcial").value,
    responsabilidade: document.getElementById("responsabilidade").value
  };

  const resposta = await fetch("/api/enviar", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      content:
`ğŸ“‹ **Nova Candidatura - Sem Rotulo**

ğŸ‘¤ Nome: ${dados.nome}
ğŸ‚ Idade: ${dados.idade}
ğŸ“ Cidade: ${dados.cidade}
â³ Tempo online: ${dados.tempo}
ğŸ›  ExperiÃªncia: ${dados.experiencia}

ğŸ§  Personalidade:
${dados.personalidade}

ğŸ¤ Trabalho em equipe:
${dados.equipe}

ğŸ’¬ Como lida com crÃ­ticas:
${dados.criticas}

âš ï¸ Conflito anterior:
${dados.conflito}

ğŸ”¥ DiscussÃ£o no chat:
${dados.discussao}

ğŸ‘¥ Amigo quebrando regra:
${dados.amigo}

ğŸš¨ AcusaÃ§Ã£o de preconceito:
${dados.preconceito}

â— Desrespeito direto:
${dados.desrespeito}

ğŸ¯ Motivo:
${dados.motivo}

ğŸŒŸ O que agrega:
${dados.agregar}

âš–ï¸ Imparcialidade:
${dados.imparcial}

ğŸ›¡ Responsabilidade:
${dados.responsabilidade}`
    })
  });

  if (resposta.ok) {
    alert("Candidatura enviada com sucesso!");
    document.getElementById("formulario").reset();
  } else {
    alert("Erro ao enviar candidatura.");
  }
});
</script>
